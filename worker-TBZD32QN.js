function p(t,n,e){let s=[...n].reverse(),o=e.toLowerCase().trim(),r=c(n,o),i=c(s,o);return!r.found&&!i.found||!t.has(o)?-1:Math.max(i.points,r.points)}function c(t,n){let e=n.toLowerCase().trim();if(e.length===0)return{found:!1,points:0};e=e.replace("\xDF","ss");for(let s=t.length;s>0;s--){let o=0,r="^",i=1;for(let a=0;a<s;a++){let u=t[a],f=u.letter;o+=u.value,f==="*"?(r+="(?:sch|ch|st|ck|([bcdfghjklmnpqrstvwxyz])\\"+i+"*)",i++):(r+="(?:"+f+")",f.length==1&&(r+="+")),r+="(:?[aeiou\xE4\xF6\xFC]*)",i++}if(r+="$",new RegExp(r).test(e))return{found:!0,points:o}}return{found:!1,points:0}}addEventListener("message",t=>{let n=d(t.data.dictionary,t.data.tokens);postMessage({words:n})});function d(t,n){return Array.from(t).map(e=>({word:e,points:p(t,n,e)})).filter(e=>e.points>0).sort((e,s)=>s.points-e.points).slice(0,10)}
